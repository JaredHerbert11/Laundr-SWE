{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\asus\\\\Documents\\\\Git\\\\Laundr-SWE\\\\laundr_swe\\\\src\\\\components\\\\cartPage.component.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { updateItem } from '../controllers/cartFunctions';\nimport { useStatelocal } from '../controllers/cartFunctions';\nimport coffeeImg from \"../laundrassets/mockups/coffeeMockup.png\";\nimport teaTreeImg from \"../laundrassets/mockups/eucalyptusMockup.png\";\nimport freshAirImg from \"../laundrassets/mockups/freshair_asset.png\";\nimport watermelonImg from \"../laundrassets/mockups/watermelonMockup.png\";\nimport gardeniaImg from \"../laundrassets/mockups/gardeniaMockup.png\";\nimport teakwoodImg from \"../laundrassets/mockups/mahoganymockup.png\";\nimport CartItem from \"./cartItem.component\";\nimport '../css/cartpage.css';\nconst stripePromise = loadStripe(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"); //replace hard coded entries with CRUD calls\n\nlet Coffee = {\n  id: \"Coffee Vanilla\",\n  quantity: 0,\n  picture: coffeeImg,\n  price: 18.99\n};\nlet TeaTree = {\n  id: \"Eucalyptus Tea Tree\",\n  quantity: 0,\n  picture: teaTreeImg,\n  price: 18.99\n};\nlet Air = {\n  id: \"Fresh Air\",\n  quantity: 0,\n  picture: freshAirImg,\n  price: 18.99\n};\nlet Watermelon = {\n  id: \"Watermelon Cucumber\",\n  quantity: 0,\n  picture: watermelonImg,\n  price: 18.99\n};\nlet Gardenia = {\n  id: \"White Gardenia\",\n  quantity: 0,\n  picture: gardeniaImg,\n  price: 18.99\n};\nlet Teakwood = {\n  id: \"Mahogany Teakwood\",\n  quantity: 0,\n  picture: teakwoodImg,\n  price: 18.99\n};\n\nconst CartPage = props => {\n  _s();\n\n  let [cart, setCart] = useStatelocal();\n  let cartItems = [];\n  let totalPrice = 0; //iterate over each item in the cart to calculate price and add CartItem component to array in order to be returned w the page\n\n  for (let i = 0; i < cart.length; i++) {\n    let item = {\n      id: \"\",\n      quantity: 0,\n      picture: \"https://media.istockphoto.com/vectors/default-avatar-profile-icon-grey-photo-placeholder-vector-id846183008?k=6&m=846183008&s=170667a&w=0&h=bCKJRIR5IBFOv80Rd8HfBVj_VirFxgWuZIDJcg9OK9M=\",\n      price: 0\n    };\n\n    if (typeof cart[i] != 'undefined') {\n      item.id = cart[i].id;\n      item.quantity = cart[i].quantity; //replace object population w crud calls\n\n      item.picture = cart[i].picture;\n      item.price = cart[i].price;\n      totalPrice += item.price * item.quantity;\n    }\n\n    cartItems.push( /*#__PURE__*/_jsxDEV(CartItem, {\n      item: item,\n      cart: cart,\n      setCart: setCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this));\n  }\n\n  const handleClick = async event => {\n    const stripe = await stripePromise;\n    const response = await fetch(\"/create-session\", {\n      method: \"POST\"\n    });\n    const session = await response.json(); // When the customer clicks on the button, redirect them to Checkout.\n\n    const result = await stripe.redirectToCheckout({\n      sessionId: session.id\n    });\n\n    if (result.error) {// If `redirectToCheckout` fails due to a browser or network\n      // error, display the localized error message to your customer\n      // using `result.error.message`.\n    }\n  };\n\n  useEffect(() => {\n    // Check to see if this is a redirect back from Checkout\n    const query = new URLSearchParams(window.location.search);\n\n    if (query.get(\"success\")) {\n      console.log(\"Order was a success!\");\n    }\n\n    if (query.get(\"canceled\")) {\n      console.log(\"Order was cancelled, when did god forsaken us?\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cartBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"header\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" Your Cart \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"checkout\",\n            onClick: handleClick,\n            children: \" Proceed to Checkout \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"ui celled collapsing very basic table\",\n        style: {\n          minWidth: \"700px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [cartItems, /*#__PURE__*/_jsxDEV(\"tr\", {\n            class: \"\",\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              class: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Subtotal:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 64\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: [\"$\", totalPrice.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, Coffee, 1),\n        children: \"Coffee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, TeaTree, 1),\n        children: \"TeaTree\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, Air, 1),\n        children: \"Air\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, Watermelon, 1),\n        children: \"Watermelon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, Gardenia, 1),\n        children: \"Gardenia\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"devButton\",\n        onClick: () => updateItem(cart, setCart, Teakwood, 1),\n        children: \"Teakwood\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartPage, \"mLqPPKAXH9qKg6Yq1RLyeEfc+F4=\", false, function () {\n  return [useStatelocal];\n});\n\n_c = CartPage;\nexport default CartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"sources":["C:/Users/asus/Documents/Git/Laundr-SWE/laundr_swe/src/components/cartPage.component.js"],"names":["React","useEffect","loadStripe","updateItem","useStatelocal","coffeeImg","teaTreeImg","freshAirImg","watermelonImg","gardeniaImg","teakwoodImg","CartItem","stripePromise","Coffee","id","quantity","picture","price","TeaTree","Air","Watermelon","Gardenia","Teakwood","CartPage","props","cart","setCart","cartItems","totalPrice","i","length","item","push","handleClick","event","stripe","response","fetch","method","session","json","result","redirectToCheckout","sessionId","error","query","URLSearchParams","window","location","search","get","console","log","minWidth","textAlign","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport {updateItem} from '../controllers/cartFunctions';\r\nimport {useStatelocal} from '../controllers/cartFunctions';\r\nimport coffeeImg from \"../laundrassets/mockups/coffeeMockup.png\";\r\nimport teaTreeImg from \"../laundrassets/mockups/eucalyptusMockup.png\";\r\nimport freshAirImg from \"../laundrassets/mockups/freshair_asset.png\";\r\nimport watermelonImg from \"../laundrassets/mockups/watermelonMockup.png\";\r\nimport gardeniaImg from \"../laundrassets/mockups/gardeniaMockup.png\";\r\nimport teakwoodImg from \"../laundrassets/mockups/mahoganymockup.png\";\r\nimport CartItem from \"./cartItem.component\";\r\nimport '../css/cartpage.css';\r\nconst stripePromise = loadStripe(\"pk_test_TYooMQauvdEDq54NiTphI7jx\");\r\n\r\n\r\n//replace hard coded entries with CRUD calls\r\nlet Coffee = {\r\n    id : \"Coffee Vanilla\",\r\n    quantity : 0,\r\n    picture:coffeeImg,\r\n    price:18.99\r\n}\r\nlet TeaTree = {\r\n    id : \"Eucalyptus Tea Tree\",\r\n    quantity : 0,\r\n    picture:teaTreeImg,\r\n    price:18.99\r\n}\r\nlet Air = {\r\n    id : \"Fresh Air\",\r\n    quantity : 0,\r\n    picture:freshAirImg,\r\n    price:18.99\r\n}\r\nlet Watermelon = {\r\n    id : \"Watermelon Cucumber\",\r\n    quantity : 0,\r\n    picture:watermelonImg,\r\n    price:18.99\r\n}\r\nlet Gardenia = {\r\n    id : \"White Gardenia\",\r\n    quantity : 0,\r\n    picture:gardeniaImg,\r\n    price:18.99\r\n}\r\nlet Teakwood = {\r\n    id : \"Mahogany Teakwood\",\r\n    quantity : 0,\r\n    picture:teakwoodImg,\r\n    price:18.99\r\n}\r\n\r\n\r\nconst CartPage = (props) => {  \r\n    let [cart, setCart] = useStatelocal();\r\n    let cartItems = [];\r\n    let totalPrice = 0;\r\n\r\n    //iterate over each item in the cart to calculate price and add CartItem component to array in order to be returned w the page\r\n    for(let i = 0; i < cart.length;i++){\r\n        let item = {\r\n            id:\"\",\r\n            quantity:0,\r\n            picture:\"https://media.istockphoto.com/vectors/default-avatar-profile-icon-grey-photo-placeholder-vector-id846183008?k=6&m=846183008&s=170667a&w=0&h=bCKJRIR5IBFOv80Rd8HfBVj_VirFxgWuZIDJcg9OK9M=\",\r\n            price:0\r\n        }\r\n        if (typeof cart[i] != 'undefined'){\r\n            item.id=cart[i].id;\r\n            item.quantity=cart[i].quantity;\r\n            //replace object population w crud calls\r\n            item.picture = cart[i].picture;\r\n            item.price = cart[i].price;\r\n            totalPrice += item.price*item.quantity;\r\n        }\r\n\r\n        cartItems.push(\r\n            <CartItem item={item} cart={cart} setCart={setCart}></CartItem>\r\n        );\r\n    }\r\n\r\n    const handleClick = async (event) => {\r\n        const stripe = await stripePromise;\r\n        const response = await fetch(\"/create-session\", {\r\n          method: \"POST\",\r\n        });\r\n    \r\n        const session = await response.json();\r\n    \r\n        // When the customer clicks on the button, redirect them to Checkout.\r\n        const result = await stripe.redirectToCheckout({\r\n          sessionId: session.id,\r\n        });\r\n    \r\n        if (result.error) {\r\n          // If `redirectToCheckout` fails due to a browser or network\r\n          // error, display the localized error message to your customer\r\n          // using `result.error.message`.\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Check to see if this is a redirect back from Checkout\r\n        const query = new URLSearchParams(window.location.search);\r\n        if (query.get(\"success\")) {\r\n          console.log(\"Order was a success!\")\r\n        }\r\n    \r\n        if (query.get(\"canceled\")) {\r\n            console.log(\"Order was cancelled, when did god forsaken us?\");\r\n        }\r\n      }, []);\r\n\r\n    return (\r\n        <div className=\"bg\">\r\n            <div className=\"cartBox\">\r\n                <div class=\"header\">\r\n                    <div className=\"top\">\r\n                        <span> Your Cart </span>\r\n                        <p className=\"checkout\" onClick={handleClick}> Proceed to Checkout </p>\r\n                    </div>\r\n                </div>\r\n                    <table class=\"ui celled collapsing very basic table\" style={{minWidth : \"700px\"}}>\r\n                        <tbody>\r\n                            {cartItems}\r\n                            <tr class=\"\">\r\n                            <td class=\"\">\r\n                                <p style={{textAlign:\"right\"}}><b>Subtotal:</b></p>\r\n                                <p style={{textAlign:\"right\"}}>${totalPrice.toFixed(2)}</p>\r\n                            </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </div>\r\n            <div className=\"row\">\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, Coffee, 1)}>Coffee</button>\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, TeaTree, 1)}>TeaTree</button>\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, Air, 1)}>Air</button>\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, Watermelon, 1)}>Watermelon</button>\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, Gardenia, 1)}>Gardenia</button>\r\n                <button className=\"devButton\" onClick={() => updateItem(cart, setCart, Teakwood, 1)}>Teakwood</button>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default CartPage;"]},"metadata":{},"sourceType":"module"}