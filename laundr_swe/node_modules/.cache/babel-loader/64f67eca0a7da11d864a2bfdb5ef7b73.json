{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nlet Scuba = {\n  id: \"Scuba\",\n  quantity: 0\n};\nlet Tuba = {\n  id: \"Tuba\",\n  quantity: 0\n};\nlet Cuba = {\n  id: \"Cuba\",\n  quantity: 0\n}; //When adding or removing one from cart, this function should be called \n//amount is 1 or -1 depending on if the user wishes to add or remove one item from cart\n\nfunction updateItem(item, amount) {\n  let cartCopy = [...cart];\n  let exister = cartCopy.find(it => it.id === item.id); //checks if the given item is in the cart, if not then call the add item function\n\n  if (!exister && amount > 0) {\n    addItem(item);\n  } //if item is not in cart and user wishes to remove from cart, leaves function to do nothing\n\n\n  if (!exister) return; //adjust the quantity of the item\n\n  exister.quantity += amount; //Checks if item quantity has dropped to zero, if so then remove from cart\n\n  if (exister.quantity <= 0) {\n    cartCopy = cartCopy.filter(it => it.id !== item.id);\n  } //If the cart was emptied through removing an item, clear the cart and local storage\n\n\n  if (cartCopy.length === 0) {\n    localStorage.clear();\n    cartCopy = [];\n  }\n\n  setCart(cartCopy);\n}\n\nfunction clearOneItem(item) {\n  let cartCopy = [...cart];\n  cartCopy = cartCopy.filter(thing => thing.id !== item.id);\n\n  if (cartCopy.length === 0) {\n    localStorage.clear();\n    setCart([]);\n  }\n\n  setCart(cartCopy);\n} //If item isn't in cart, push it into the cart\n\n\nfunction addItem(item) {\n  let copyCart = [...cart];\n  item.quantity = 1;\n  copyCart.push(item);\n  setCart(copyCart);\n} //Clears the cart as well as the local storage\n\n\nfunction clearCart() {\n  localStorage.clear();\n  setCart([]);\n}\n\nexport default {\n  updateItem,\n  clearOneItem,\n  clearCart,\n  Scuba,\n  Tuba,\n  Cuba\n};","map":{"version":3,"sources":["C:/Users/asus/Documents/Git/Laundr-SWE/laundr_swe/src/controllers/cartFunctions.js"],"names":["React","useState","useEffect","Scuba","id","quantity","Tuba","Cuba","updateItem","item","amount","cartCopy","cart","exister","find","it","addItem","filter","length","localStorage","clear","setCart","clearOneItem","thing","copyCart","push","clearCart"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,IAAIC,KAAK,GAAG;AACVC,EAAAA,EAAE,EAAG,OADK;AAEVC,EAAAA,QAAQ,EAAG;AAFD,CAAZ;AAKA,IAAIC,IAAI,GAAG;AACTF,EAAAA,EAAE,EAAG,MADI;AAETC,EAAAA,QAAQ,EAAG;AAFF,CAAX;AAKA,IAAIE,IAAI,GAAG;AACTH,EAAAA,EAAE,EAAG,MADI;AAETC,EAAAA,QAAQ,EAAG;AAFF,CAAX,C,CAKA;AACA;;AACA,SAASG,UAAT,CAAoBC,IAApB,EAA0BC,MAA1B,EAAiC;AAE7B,MAAIC,QAAQ,GAAG,CAAC,GAAGC,IAAJ,CAAf;AAEA,MAAIC,OAAO,GAAGF,QAAQ,CAACG,IAAT,CAAcC,EAAE,IAAIA,EAAE,CAACX,EAAH,KAAUK,IAAI,CAACL,EAAnC,CAAd,CAJ6B,CAM7B;;AACA,MAAI,CAACS,OAAD,IAAaH,MAAM,GAAG,CAA1B,EAA6B;AAC3BM,IAAAA,OAAO,CAACP,IAAD,CAAP;AACD,GAT4B,CAW7B;;;AACA,MAAI,CAACI,OAAL,EAAc,OAZe,CAc7B;;AACAA,EAAAA,OAAO,CAACR,QAAR,IAAoBK,MAApB,CAf6B,CAiB7B;;AACA,MAAIG,OAAO,CAACR,QAAR,IAAoB,CAAxB,EAA0B;AACxBM,IAAAA,QAAQ,GAAGA,QAAQ,CAACM,MAAT,CAAgBF,EAAE,IAAIA,EAAE,CAACX,EAAH,KAAUK,IAAI,CAACL,EAArC,CAAX;AACD,GApB4B,CAsB7B;;;AACA,MAAIO,QAAQ,CAACO,MAAT,KAAoB,CAAxB,EAA0B;AACxBC,IAAAA,YAAY,CAACC,KAAb;AACAT,IAAAA,QAAQ,GAAG,EAAX;AACD;;AAEDU,EAAAA,OAAO,CAACV,QAAD,CAAP;AAEH;;AAGD,SAASW,YAAT,CAAsBb,IAAtB,EAA2B;AACvB,MAAIE,QAAQ,GAAG,CAAC,GAAGC,IAAJ,CAAf;AAEAD,EAAAA,QAAQ,GAAGA,QAAQ,CAACM,MAAT,CAAgBM,KAAK,IAAIA,KAAK,CAACnB,EAAN,KAAaK,IAAI,CAACL,EAA3C,CAAX;;AAEA,MAAIO,QAAQ,CAACO,MAAT,KAAoB,CAAxB,EAA0B;AACxBC,IAAAA,YAAY,CAACC,KAAb;AACAC,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD;;AAEDA,EAAAA,OAAO,CAACV,QAAD,CAAP;AACH,C,CAED;;;AACA,SAASK,OAAT,CAAiBP,IAAjB,EAAsB;AAClB,MAAIe,QAAQ,GAAG,CAAC,GAAGZ,IAAJ,CAAf;AAEAH,EAAAA,IAAI,CAACJ,QAAL,GAAgB,CAAhB;AACAmB,EAAAA,QAAQ,CAACC,IAAT,CAAchB,IAAd;AACAY,EAAAA,OAAO,CAACG,QAAD,CAAP;AACH,C,CAED;;;AACA,SAASE,SAAT,GAAqB;AACjBP,EAAAA,YAAY,CAACC,KAAb;AACAC,EAAAA,OAAO,CAAC,EAAD,CAAP;AACH;;AAED,eAAe;AAACb,EAAAA,UAAD;AAAac,EAAAA,YAAb;AAA2BI,EAAAA,SAA3B;AAAsCvB,EAAAA,KAAtC;AAA6CG,EAAAA,IAA7C;AAAmDC,EAAAA;AAAnD,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nlet Scuba = {\r\n  id : \"Scuba\",\r\n  quantity : 0\r\n}\r\n\r\nlet Tuba = {\r\n  id : \"Tuba\",\r\n  quantity : 0\r\n}\r\n\r\nlet Cuba = {\r\n  id : \"Cuba\",\r\n  quantity : 0\r\n}\r\n\r\n//When adding or removing one from cart, this function should be called \r\n//amount is 1 or -1 depending on if the user wishes to add or remove one item from cart\r\nfunction updateItem(item, amount){\r\n\r\n    let cartCopy = [...cart];\r\n\r\n    let exister = cartCopy.find(it => it.id === item.id);\r\n\r\n    //checks if the given item is in the cart, if not then call the add item function\r\n    if (!exister && (amount > 0)){\r\n      addItem(item);\r\n    }\r\n\r\n    //if item is not in cart and user wishes to remove from cart, leaves function to do nothing\r\n    if (!exister) return;\r\n\r\n    //adjust the quantity of the item\r\n    exister.quantity += amount;\r\n\r\n    //Checks if item quantity has dropped to zero, if so then remove from cart\r\n    if (exister.quantity <= 0){\r\n      cartCopy = cartCopy.filter(it => it.id !== item.id);\r\n    }\r\n\r\n    //If the cart was emptied through removing an item, clear the cart and local storage\r\n    if (cartCopy.length === 0){\r\n      localStorage.clear();\r\n      cartCopy = [];\r\n    }\r\n\r\n    setCart(cartCopy);\r\n\r\n}\r\n\r\n\r\nfunction clearOneItem(item){\r\n    let cartCopy = [...cart];\r\n\r\n    cartCopy = cartCopy.filter(thing => thing.id !== item.id);\r\n\r\n    if (cartCopy.length === 0){\r\n      localStorage.clear();\r\n      setCart([]);\r\n    }\r\n\r\n    setCart(cartCopy);\r\n}\r\n\r\n//If item isn't in cart, push it into the cart\r\nfunction addItem(item){\r\n    let copyCart = [...cart];\r\n\r\n    item.quantity = 1;\r\n    copyCart.push(item);\r\n    setCart(copyCart);\r\n}\r\n\r\n//Clears the cart as well as the local storage\r\nfunction clearCart() {\r\n    localStorage.clear();\r\n    setCart([]);\r\n}\r\n\r\nexport default {updateItem, clearOneItem, clearCart, Scuba, Tuba, Cuba};"]},"metadata":{},"sourceType":"module"}